# TalentMail ç»Ÿä¸€å·¥ä½œæµç³»ç»Ÿè®¾è®¡

> å€Ÿé‰´é£ä¹¦å®¡æ‰¹å·¥ä½œæµï¼Œæ‰“é€ è¦†ç›–æ‰€æœ‰ä¸šåŠ¡åœºæ™¯çš„å¯è§†åŒ–æµç¨‹å¼•æ“
> æœ€åæ›´æ–°: 2026-01-02

---

## ä¸€ã€è®¾è®¡æ„¿æ™¯

### 1.1 æ ¸å¿ƒç†å¿µ

å°† TalentMail ä¸­æ‰€æœ‰å¯é…ç½®çš„ä¸šåŠ¡æµç¨‹éƒ½æŠ½è±¡ä¸º"å·¥ä½œæµ"ï¼Œç®¡ç†å‘˜å¯ä»¥é€šè¿‡å¯è§†åŒ–ç¼–è¾‘å™¨è‡ªå®šä¹‰æ¯ä¸ªæµç¨‹çš„è¡Œä¸ºï¼Œæ— éœ€ä¿®æ”¹ä»£ç ã€‚

### 1.2 è¦†ç›–åœºæ™¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TalentMail ç»Ÿä¸€å·¥ä½œæµè¦†ç›–åœºæ™¯                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  ğŸ“ ç”¨æˆ·æ³¨å†Œæµç¨‹                                                             â”‚
â”‚  â”œâ”€â”€ å¡«å†™æ³¨å†Œè¡¨å•                                                            â”‚
â”‚  â”œâ”€â”€ å‘é€éªŒè¯ç é‚®ä»¶ â† å¯é…ç½®æ¨¡æ¿                                             â”‚
â”‚  â”œâ”€â”€ éªŒè¯ç æ ¡éªŒ                                                              â”‚
â”‚  â”œâ”€â”€ åˆ›å»ºè´¦æˆ·                                                                â”‚
â”‚  â”œâ”€â”€ å‘é€æ¬¢è¿é‚®ä»¶ â† å¯é…ç½®æ¨¡æ¿                                               â”‚
â”‚  â””â”€â”€ é€šçŸ¥ç®¡ç†å‘˜ï¼ˆå¯é€‰ï¼‰                                                       â”‚
â”‚                                                                              â”‚
â”‚  ğŸ”‘ å¯†ç é‡ç½®æµç¨‹                                                             â”‚
â”‚  â”œâ”€â”€ è¯·æ±‚é‡ç½®                                                                â”‚
â”‚  â”œâ”€â”€ å‘é€é‡ç½®é“¾æ¥/éªŒè¯ç  â† å¯é…ç½®æ¨¡æ¿                                        â”‚
â”‚  â”œâ”€â”€ éªŒè¯èº«ä»½                                                                â”‚
â”‚  â”œâ”€â”€ è®¾ç½®æ–°å¯†ç                                                               â”‚
â”‚  â””â”€â”€ å‘é€ç¡®è®¤é‚®ä»¶ â† å¯é…ç½®æ¨¡æ¿                                               â”‚
â”‚                                                                              â”‚
â”‚  ğŸ” ç™»å½•å®‰å…¨æµç¨‹                                                             â”‚
â”‚  â”œâ”€â”€ å¯†ç éªŒè¯                                                                â”‚
â”‚  â”œâ”€â”€ æ–°è®¾å¤‡æ£€æµ‹ â†’ å‘é€å®‰å…¨æé†’ â† å¯é…ç½®æ¨¡æ¿                                  â”‚
â”‚  â”œâ”€â”€ 2FA éªŒè¯ï¼ˆå¯é€‰ï¼‰                                                        â”‚
â”‚  â””â”€â”€ ç™»å½•æˆåŠŸé€šçŸ¥                                                            â”‚
â”‚                                                                              â”‚
â”‚  ğŸ“§ é‚®ä»¶è‡ªåŠ¨åŒ–æµç¨‹                                                           â”‚
â”‚  â”œâ”€â”€ æ”¶ä»¶è‡ªåŠ¨åˆ†ç±»                                                            â”‚
â”‚  â”œâ”€â”€ è‡ªåŠ¨å›å¤                                                                â”‚
â”‚  â”œâ”€â”€ æ¡ä»¶è½¬å‘                                                                â”‚
â”‚  â””â”€â”€ åƒåœ¾é‚®ä»¶å¤„ç†                                                            â”‚
â”‚                                                                              â”‚
â”‚  ğŸ“ æ–‡ä»¶åˆ†äº«æµç¨‹                                                             â”‚
â”‚  â”œâ”€â”€ åˆ›å»ºåˆ†äº«é“¾æ¥                                                            â”‚
â”‚  â”œâ”€â”€ å‘é€åˆ†äº«é€šçŸ¥ â† å¯é…ç½®æ¨¡æ¿                                               â”‚
â”‚  â””â”€â”€ è®¿é—®è®°å½•                                                                â”‚
â”‚                                                                              â”‚
â”‚  ğŸ’³ è®¢é˜…ç®¡ç†æµç¨‹                                                             â”‚
â”‚  â”œâ”€â”€ è®¢é˜…åˆ°æœŸæé†’ â† å¯é…ç½®æ¨¡æ¿                                               â”‚
â”‚  â”œâ”€â”€ è‡ªåŠ¨é™çº§å¤„ç†                                                            â”‚
â”‚  â””â”€â”€ ç»­è´¹æˆåŠŸé€šçŸ¥ â† å¯é…ç½®æ¨¡æ¿                                               â”‚
â”‚                                                                              â”‚
â”‚  ğŸ« é‚€è¯·ç æµç¨‹                                                               â”‚
â”‚  â”œâ”€â”€ ç”Ÿæˆé‚€è¯·ç                                                               â”‚
â”‚  â”œâ”€â”€ å‘é€é‚€è¯·é‚®ä»¶ â† å¯é…ç½®æ¨¡æ¿                                               â”‚
â”‚  â””â”€â”€ é‚€è¯·æˆåŠŸé€šçŸ¥                                                            â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## äºŒã€ç³»ç»Ÿå·¥ä½œæµ vs è‡ªå®šä¹‰å·¥ä½œæµ

### 2.1 å·¥ä½œæµåˆ†ç±»

| ç±»å‹ | æè¿° | å¯ç¼–è¾‘èŒƒå›´ | ç¤ºä¾‹ |
|------|------|-----------|------|
| **ç³»ç»Ÿå·¥ä½œæµ** | ç³»ç»Ÿæ ¸å¿ƒä¸šåŠ¡æµç¨‹ | å¯é…ç½®èŠ‚ç‚¹å‚æ•°ï¼Œä¸å¯åˆ é™¤æ ¸å¿ƒèŠ‚ç‚¹ | æ³¨å†Œæµç¨‹ã€ç™»å½•æµç¨‹ |
| **æ¨¡æ¿å·¥ä½œæµ** | é¢„è®¾çš„å¸¸ç”¨æµç¨‹ | å¯å¤åˆ¶åè‡ªç”±ç¼–è¾‘ | æ¬¢è¿é‚®ä»¶æµç¨‹ã€æé†’æµç¨‹ |
| **è‡ªå®šä¹‰å·¥ä½œæµ** | ç”¨æˆ·è‡ªå·±åˆ›å»ºçš„æµç¨‹ | å®Œå…¨è‡ªç”± | è‡ªåŠ¨åŒ–è§„åˆ™ |

### 2.2 ç³»ç»Ÿå·¥ä½œæµè®¾è®¡

ç³»ç»Ÿå·¥ä½œæµæ˜¯ TalentMail æ ¸å¿ƒä¸šåŠ¡é€»è¾‘çš„å¯è§†åŒ–è¡¨è¾¾ï¼Œç®¡ç†å‘˜å¯ä»¥ï¼š
- âœ… ä¿®æ”¹é‚®ä»¶æ¨¡æ¿
- âœ… æ·»åŠ é¢å¤–çš„é€šçŸ¥èŠ‚ç‚¹
- âœ… é…ç½®æ¡ä»¶åˆ†æ”¯
- âœ… å¯ç”¨/ç¦ç”¨å¯é€‰èŠ‚ç‚¹
- âŒ åˆ é™¤æ ¸å¿ƒéªŒè¯èŠ‚ç‚¹
- âŒ è·³è¿‡å¿…è¦çš„å®‰å…¨æ£€æŸ¥

---

## ä¸‰ã€ç”¨æˆ·æ³¨å†Œæµç¨‹å·¥ä½œæµè®¾è®¡

### 3.1 é»˜è®¤æ³¨å†Œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“‹ ç³»ç»Ÿå·¥ä½œæµ: ç”¨æˆ·æ³¨å†Œæµç¨‹                               [ç¼–è¾‘] [é‡ç½®]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                          â”‚
â”‚     â”‚  ğŸŸ¢ è§¦å‘å™¨   â”‚                                                          â”‚
â”‚     â”‚  æäº¤æ³¨å†Œ   â”‚                                                          â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                          â”‚
â”‚            â”‚                                                                 â”‚
â”‚            â–¼                                                                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                          â”‚
â”‚     â”‚  ğŸ”’ æ ¡éªŒ    â”‚  â† ç³»ç»ŸèŠ‚ç‚¹ï¼Œä¸å¯åˆ é™¤                                     â”‚
â”‚     â”‚  é‚®ç®±æ ¼å¼   â”‚                                                          â”‚
â”‚     â”‚  å¯†ç å¼ºåº¦   â”‚                                                          â”‚
â”‚     â”‚  é‚€è¯·ç      â”‚                                                          â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                          â”‚
â”‚            â”‚                                                                 â”‚
â”‚            â–¼                                                                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                          â”‚
â”‚     â”‚  ğŸ”µ æ¡ä»¶    â”‚                                                          â”‚
â”‚     â”‚ éœ€è¦éªŒè¯ç ï¼Ÿ â”‚                                                          â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                          â”‚
â”‚        â”Œâ”€â”€â”€â”´â”€â”€â”€â”                                                             â”‚
â”‚        â”‚       â”‚                                                             â”‚
â”‚    æ˜¯ â–¼       â–¼ å¦                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚ğŸ“§ å‘é€  â”‚ â”‚            â”‚                                                   â”‚
â”‚  â”‚ éªŒè¯ç  â”‚ â”‚  ç›´æ¥åˆ›å»º   â”‚                                                   â”‚
â”‚  â”‚ é‚®ä»¶   â”‚ â”‚   è´¦æˆ·     â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚      â”‚            â”‚                                                          â”‚
â”‚      â–¼            â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚                                                          â”‚
â”‚  â”‚â³ ç­‰å¾…  â”‚       â”‚                                                          â”‚
â”‚  â”‚ç”¨æˆ·éªŒè¯ â”‚       â”‚                                                          â”‚
â”‚  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜       â”‚                                                          â”‚
â”‚      â”‚            â”‚                                                          â”‚
â”‚      â–¼            â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚                                                          â”‚
â”‚  â”‚ğŸ”’ æ ¡éªŒ  â”‚       â”‚                                                          â”‚
â”‚  â”‚ éªŒè¯ç  â”‚       â”‚                                                          â”‚
â”‚  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜       â”‚                                                          â”‚
â”‚      â”‚            â”‚                                                          â”‚
â”‚      â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                          â”‚
â”‚            â”‚                                                                 â”‚
â”‚            â–¼                                                                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                          â”‚
â”‚     â”‚  ğŸ”’ åˆ›å»º    â”‚  â† ç³»ç»ŸèŠ‚ç‚¹                                               â”‚
â”‚     â”‚   è´¦æˆ·     â”‚                                                          â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                          â”‚
â”‚            â”‚                                                                 â”‚
â”‚            â–¼                                                                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                          â”‚
â”‚     â”‚  ğŸ”µ æ¡ä»¶    â”‚                                                          â”‚
â”‚     â”‚ å‘é€æ¬¢è¿é‚®ä»¶ï¼Ÿâ”‚                                                         â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                          â”‚
â”‚        â”Œâ”€â”€â”€â”´â”€â”€â”€â”                                                             â”‚
â”‚    æ˜¯ â–¼       â–¼ å¦                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚                                                             â”‚
â”‚  â”‚ğŸ“§ å‘é€  â”‚    â”‚                                                             â”‚
â”‚  â”‚æ¬¢è¿é‚®ä»¶ â”‚    â”‚                                                             â”‚
â”‚  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â”‚                                                             â”‚
â”‚      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                                             â”‚
â”‚           â”‚                                                                  â”‚
â”‚           â–¼                                                                  â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                          â”‚
â”‚     â”‚  ğŸ”µ æ¡ä»¶    â”‚                                                          â”‚
â”‚     â”‚é€šçŸ¥ç®¡ç†å‘˜ï¼Ÿ â”‚                                                          â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                          â”‚
â”‚        â”Œâ”€â”€â”€â”´â”€â”€â”€â”                                                             â”‚
â”‚    æ˜¯ â–¼       â–¼ å¦                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚                                                             â”‚
â”‚  â”‚ğŸ“§ å‘é€  â”‚    â”‚                                                             â”‚
â”‚  â”‚ç®¡ç†å‘˜   â”‚    â”‚                                                             â”‚
â”‚  â”‚ é€šçŸ¥   â”‚    â”‚                                                             â”‚
â”‚  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â”‚                                                             â”‚
â”‚      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                                             â”‚
â”‚           â”‚                                                                  â”‚
â”‚           â–¼                                                                  â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                          â”‚
â”‚     â”‚  âœ… å®Œæˆ    â”‚                                                          â”‚
â”‚     â”‚  æ³¨å†ŒæˆåŠŸ   â”‚                                                          â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                          â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 æ³¨å†Œæµç¨‹èŠ‚ç‚¹é…ç½®

#### éªŒè¯ç é‚®ä»¶èŠ‚ç‚¹é…ç½®

```json
{
  "node_id": "send_verification_code",
  "node_type": "action",
  "node_subtype": "action_send_template",
  "name": "å‘é€éªŒè¯ç é‚®ä»¶",
  "config": {
    "template_code": "verification_code_register",
    "to_type": "form_field",
    "to_field": "email",
    "variables": {
      "verification_code": "{{generated_code}}",
      "expire_minutes": "{{config.verification_code_expire_minutes}}",
      "app_name": "{{global.app_name}}"
    }
  },
  "is_system": false,
  "is_required": true,
  "can_delete": false,
  "can_configure": true
}
```

#### æ¬¢è¿é‚®ä»¶èŠ‚ç‚¹é…ç½®

```json
{
  "node_id": "send_welcome_email",
  "node_type": "action",
  "node_subtype": "action_send_template",
  "name": "å‘é€æ¬¢è¿é‚®ä»¶",
  "config": {
    "template_code": "welcome_email",
    "to_type": "created_user",
    "variables": {
      "user_name": "{{user.display_name || user.email}}",
      "login_url": "{{global.app_url}}/login"
    }
  },
  "is_system": false,
  "is_required": false,
  "can_delete": true,
  "can_configure": true,
  "default_enabled": true
}
```

### 3.3 æµç¨‹é…ç½®é€‰é¡¹

ç®¡ç†å‘˜å¯ä»¥åœ¨ä¸ç¼–è¾‘æµç¨‹å›¾çš„æƒ…å†µä¸‹å¿«é€Ÿé…ç½®ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš™ï¸ ç”¨æˆ·æ³¨å†Œæµç¨‹é…ç½®                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  ğŸ“§ éªŒè¯æ–¹å¼                                                                 â”‚
â”‚  â”œâ”€â”€ â— é‚®ç®±éªŒè¯ç æ³¨å†Œ                                                        â”‚
â”‚  â”œâ”€â”€ â—‹ ç›´æ¥æ³¨å†Œï¼ˆä¸éœ€è¦éªŒè¯ï¼‰                                                â”‚
â”‚  â””â”€â”€ â—‹ é‚®ç®±é“¾æ¥éªŒè¯                                                          â”‚
â”‚                                                                              â”‚
â”‚  ğŸ« é‚€è¯·ç è®¾ç½®                                                               â”‚
â”‚  â”œâ”€â”€ â˜‘ éœ€è¦é‚€è¯·ç æ‰èƒ½æ³¨å†Œ                                                    â”‚
â”‚  â””â”€â”€ â–¡ è®°å½•é‚€è¯·å…³ç³»                                                          â”‚
â”‚                                                                              â”‚
â”‚  ğŸ“¨ é‚®ä»¶é€šçŸ¥                                                                 â”‚
â”‚  â”œâ”€â”€ â˜‘ å‘é€éªŒè¯ç é‚®ä»¶                                                        â”‚
â”‚  â”‚   â””â”€â”€ æ¨¡æ¿: [æ³¨å†ŒéªŒè¯ç  â–¼] [ç¼–è¾‘æ¨¡æ¿]                                     â”‚
â”‚  â”œâ”€â”€ â˜‘ å‘é€æ¬¢è¿é‚®ä»¶                                                          â”‚
â”‚  â”‚   â””â”€â”€ æ¨¡æ¿: [æ¬¢è¿é‚®ä»¶ â–¼] [ç¼–è¾‘æ¨¡æ¿]                                       â”‚
â”‚  â”œâ”€â”€ â–¡ é€šçŸ¥ç®¡ç†å‘˜                                                            â”‚
â”‚  â”‚   â””â”€â”€ æ¨¡æ¿: [æ–°ç”¨æˆ·é€šçŸ¥ â–¼] [ç¼–è¾‘æ¨¡æ¿]                                     â”‚
â”‚  â””â”€â”€ â–¡ æŠ„é€ç»™å…¶ä»–é‚®ç®±: [                                     ]               â”‚
â”‚                                                                              â”‚
â”‚  â° éªŒè¯ç è®¾ç½®                                                               â”‚
â”‚  â”œâ”€â”€ æœ‰æ•ˆæœŸ: [15] åˆ†é’Ÿ                                                       â”‚
â”‚  â”œâ”€â”€ é•¿åº¦: [6] ä½                                                            â”‚
â”‚  â””â”€â”€ ç±»å‹: â— æ•°å­—  â—‹ å­—æ¯+æ•°å­—                                               â”‚
â”‚                                                                              â”‚
â”‚  ğŸ”’ å¯†ç è¦æ±‚                                                                 â”‚
â”‚  â”œâ”€â”€ æœ€å°é•¿åº¦: [8] ä½                                                        â”‚
â”‚  â”œâ”€â”€ â˜‘ å¿…é¡»åŒ…å«æ•°å­—                                                          â”‚
â”‚  â”œâ”€â”€ â–¡ å¿…é¡»åŒ…å«ç‰¹æ®Šå­—ç¬¦                                                      â”‚
â”‚  â””â”€â”€ â–¡ å¿…é¡»åŒ…å«å¤§å°å†™å­—æ¯                                                    â”‚
â”‚                                                                              â”‚
â”‚                                                      [æ¢å¤é»˜è®¤] [ä¿å­˜é…ç½®]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å››ã€å¯†ç é‡ç½®æµç¨‹å·¥ä½œæµè®¾è®¡

### 4.1 é»˜è®¤å¯†ç é‡ç½®æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“‹ ç³»ç»Ÿå·¥ä½œæµ: å¯†ç é‡ç½®æµç¨‹                               [ç¼–è¾‘] [é‡ç½®]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                          â”‚
â”‚     â”‚  ğŸŸ¢ è§¦å‘å™¨   â”‚                                                          â”‚
â”‚     â”‚ è¯·æ±‚é‡ç½®å¯†ç  â”‚                                                          â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                          â”‚
â”‚            â”‚                                                                 â”‚
â”‚            â–¼                                                                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                          â”‚
â”‚     â”‚  ğŸ”’ æ ¡éªŒ    â”‚                                                          â”‚
â”‚     â”‚  é‚®ç®±æ˜¯å¦   â”‚                                                          â”‚
â”‚     â”‚  å­˜åœ¨      â”‚                                                          â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                          â”‚
â”‚        â”Œâ”€â”€â”€â”´â”€â”€â”€â”                                                             â”‚
â”‚        â”‚       â”‚                                                             â”‚
â”‚   å­˜åœ¨ â–¼       â–¼ ä¸å­˜åœ¨                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                   â”‚
â”‚  â”‚ğŸ“§ å‘é€  â”‚ â”‚  âš ï¸ æç¤º   â”‚                                                   â”‚
â”‚  â”‚é‡ç½®éªŒè¯ â”‚ â”‚ é‚®ç®±ä¸å­˜åœ¨ â”‚                                                   â”‚
â”‚  â”‚  ç     â”‚ â”‚ï¼ˆå¯é…ç½®æ˜¯å¦â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â”‚  æ˜¾ç¤ºï¼‰   â”‚                                                   â”‚
â”‚      â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚      â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                                                                  â”‚
â”‚  â”‚â³ ç­‰å¾…  â”‚                                                                  â”‚
â”‚  â”‚ç”¨æˆ·éªŒè¯ â”‚                                                                  â”‚
â”‚  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                                                  â”‚
â”‚      â”‚                                                                       â”‚
â”‚      â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                                                                  â”‚
â”‚  â”‚ğŸ”’ æ ¡éªŒ  â”‚                                                                  â”‚
â”‚  â”‚ éªŒè¯ç  â”‚                                                                  â”‚
â”‚  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                                                  â”‚
â”‚      â”‚                                                                       â”‚
â”‚      â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                                                                  â”‚
â”‚  â”‚ğŸ” è®¾ç½®  â”‚                                                                  â”‚
â”‚  â”‚ æ–°å¯†ç  â”‚                                                                  â”‚
â”‚  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                                                  â”‚
â”‚      â”‚                                                                       â”‚
â”‚      â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                                                                  â”‚
â”‚  â”‚ğŸ“§ å‘é€  â”‚                                                                  â”‚
â”‚  â”‚å¯†ç ä¿®æ”¹ â”‚                                                                  â”‚
â”‚  â”‚ ç¡®è®¤   â”‚                                                                  â”‚
â”‚  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                                                  â”‚
â”‚      â”‚                                                                       â”‚
â”‚      â–¼                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                             â”‚
â”‚  â”‚  âœ… å®Œæˆ    â”‚                                                             â”‚
â”‚  â”‚  å¯†ç å·²é‡ç½® â”‚                                                             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                             â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## äº”ã€ç™»å½•å®‰å…¨æµç¨‹å·¥ä½œæµè®¾è®¡

### 5.1 ç™»å½•æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“‹ ç³»ç»Ÿå·¥ä½œæµ: ç”¨æˆ·ç™»å½•æµç¨‹                               [ç¼–è¾‘] [é‡ç½®]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                          â”‚
â”‚     â”‚  ğŸŸ¢ è§¦å‘å™¨   â”‚                                                          â”‚
â”‚     â”‚  æäº¤ç™»å½•   â”‚                                                          â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                          â”‚
â”‚            â”‚                                                                 â”‚
â”‚            â–¼                                                                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                          â”‚
â”‚     â”‚  ğŸ”’ éªŒè¯    â”‚                                                          â”‚
â”‚     â”‚ é‚®ç®±å’Œå¯†ç   â”‚                                                          â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                          â”‚
â”‚        â”Œâ”€â”€â”€â”´â”€â”€â”€â”                                                             â”‚
â”‚        â”‚       â”‚                                                             â”‚
â”‚   æˆåŠŸ â–¼       â–¼ å¤±è´¥                                                        â”‚
â”‚        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                     â”‚
â”‚        â”‚  â”‚  ğŸ”´ è®°å½•   â”‚                                                     â”‚
â”‚        â”‚  â”‚ å¤±è´¥æ¬¡æ•°   â”‚                                                     â”‚
â”‚        â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                                     â”‚
â”‚        â”‚         â”‚                                                           â”‚
â”‚        â”‚         â–¼                                                           â”‚
â”‚        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                     â”‚
â”‚        â”‚  â”‚  ğŸ”µ åˆ¤æ–­   â”‚                                                     â”‚
â”‚        â”‚  â”‚è¶…è¿‡é˜ˆå€¼ï¼Ÿ  â”‚                                                     â”‚
â”‚        â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                                     â”‚
â”‚        â”‚     â”Œâ”€â”€â”€â”´â”€â”€â”€â”                                                       â”‚
â”‚        â”‚ æ˜¯ â–¼       â–¼ å¦                                                     â”‚
â”‚        â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                                               â”‚
â”‚        â”‚ â”‚ğŸ”’ é”å®š  â”‚ â”‚âŒ è¿”å› â”‚                                               â”‚
â”‚        â”‚ â”‚ è´¦æˆ·   â”‚ â”‚ é”™è¯¯  â”‚                                               â”‚
â”‚        â”‚ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                               â”‚
â”‚        â”‚     â”‚                                                               â”‚
â”‚        â”‚     â–¼                                                               â”‚
â”‚        â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                                                          â”‚
â”‚        â”‚ â”‚ğŸ“§ å‘é€  â”‚                                                          â”‚
â”‚        â”‚ â”‚é”å®šé€šçŸ¥ â”‚                                                          â”‚
â”‚        â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                          â”‚
â”‚        â”‚                                                                     â”‚
â”‚        â–¼                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                             â”‚
â”‚  â”‚  ğŸ”µ åˆ¤æ–­    â”‚                                                             â”‚
â”‚  â”‚ æ˜¯å¦æ–°è®¾å¤‡ï¼Ÿ â”‚                                                             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                             â”‚
â”‚     â”Œâ”€â”€â”€â”´â”€â”€â”€â”                                                                â”‚
â”‚ æ˜¯ â–¼       â–¼ å¦                                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                                                â”‚
â”‚ â”‚ğŸ“§ å‘é€  â”‚  â”‚                                                                â”‚
â”‚ â”‚æ–°è®¾å¤‡   â”‚  â”‚                                                                â”‚
â”‚ â”‚å®‰å…¨æé†’ â”‚  â”‚                                                                â”‚
â”‚ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â”‚                                                                â”‚
â”‚     â””â”€â”€â”€â”¬â”€â”€â”€â”˜                                                                â”‚
â”‚         â”‚                                                                    â”‚
â”‚         â–¼                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                             â”‚
â”‚  â”‚  ğŸ”µ åˆ¤æ–­    â”‚                                                             â”‚
â”‚  â”‚ éœ€è¦2FAï¼Ÿ   â”‚                                                             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                             â”‚
â”‚     â”Œâ”€â”€â”€â”´â”€â”€â”€â”                                                                â”‚
â”‚ æ˜¯ â–¼       â–¼ å¦                                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                                                â”‚
â”‚ â”‚ğŸ” 2FA  â”‚  â”‚                                                                â”‚
â”‚ â”‚ éªŒè¯   â”‚  â”‚                                                                â”‚
â”‚ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â”‚                                                                â”‚
â”‚     â””â”€â”€â”€â”¬â”€â”€â”€â”˜                                                                â”‚
â”‚         â”‚                                                                    â”‚
â”‚         â–¼                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                             â”‚
â”‚  â”‚  âœ… ç™»å½•æˆåŠŸ â”‚                                                             â”‚
â”‚  â”‚  ç”ŸæˆToken  â”‚                                                             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                             â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å…­ã€æ•°æ®åº“æ¶æ„

### 6.1 ç³»ç»Ÿå·¥ä½œæµè¡¨

```sql
-- ç³»ç»Ÿå·¥ä½œæµå®šä¹‰è¡¨ï¼ˆé¢„è®¾çš„æ ¸å¿ƒä¸šåŠ¡æµç¨‹ï¼‰
CREATE TABLE system_workflows (
    id SERIAL PRIMARY KEY,
    code VARCHAR(100) UNIQUE NOT NULL,       -- å¦‚ 'user_registration'
    name VARCHAR(200) NOT NULL,
    description TEXT,
    
    -- åˆ†ç±»
    category VARCHAR(50) NOT NULL,           -- auth, email, billing, etc
    
    -- æµç¨‹å®šä¹‰
    nodes JSONB NOT NULL,                    -- èŠ‚ç‚¹åˆ—è¡¨
    edges JSONB NOT NULL,                    -- è¿æ¥åˆ—è¡¨
    
    -- é…ç½®
    config_schema JSONB,                     -- å¯é…ç½®é¡¹çš„ JSON Schema
    default_config JSONB,                    -- é»˜è®¤é…ç½®
    
    -- ç‰ˆæœ¬
    version INTEGER DEFAULT 1,
    
    -- ç³»ç»Ÿå±æ€§
    is_system BOOLEAN DEFAULT TRUE,          -- æ˜¯å¦ä¸ºç³»ç»Ÿå†…ç½®
    is_active BOOLEAN DEFAULT TRUE,
    
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

-- ç³»ç»Ÿå·¥ä½œæµå®ä¾‹é…ç½®è¡¨ï¼ˆç®¡ç†å‘˜çš„è‡ªå®šä¹‰é…ç½®ï¼‰
CREATE TABLE system_workflow_configs (
    id SERIAL PRIMARY KEY,
    workflow_id INTEGER REFERENCES system_workflows(id),
    
    -- è‡ªå®šä¹‰é…ç½®ï¼ˆè¦†ç›–é»˜è®¤é…ç½®ï¼‰
    config JSONB NOT NULL,
    
    -- è‡ªå®šä¹‰èŠ‚ç‚¹é…ç½®
    node_configs JSONB,                      -- å„èŠ‚ç‚¹çš„è‡ªå®šä¹‰é…ç½®
    
    -- çŠ¶æ€
    is_active BOOLEAN DEFAULT TRUE,
    
    -- ç‰ˆæœ¬
    version INTEGER DEFAULT 1,
    
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW(),
    created_by INTEGER REFERENCES users(id)
);

-- åˆå§‹åŒ–ç³»ç»Ÿå·¥ä½œæµæ•°æ®
INSERT INTO system_workflows (code, name, category, nodes, edges, config_schema, default_config) VALUES
('user_registration', 'ç”¨æˆ·æ³¨å†Œæµç¨‹', 'auth', 
 '[...]', '[...]', 
 '{
   "type": "object",
   "properties": {
     "require_verification": {"type": "boolean", "title": "éœ€è¦é‚®ç®±éªŒè¯", "default": true},
     "require_invite_code": {"type": "boolean", "title": "éœ€è¦é‚€è¯·ç ", "default": true},
     "send_welcome_email": {"type": "boolean", "title": "å‘é€æ¬¢è¿é‚®ä»¶", "default": true},
     "notify_admin": {"type": "boolean", "title": "é€šçŸ¥ç®¡ç†å‘˜", "default": false},
     "verification_code_expire_minutes": {"type": "integer", "title": "éªŒè¯ç æœ‰æ•ˆæœŸ(åˆ†é’Ÿ)", "default": 15},
     "verification_code_length": {"type": "integer", "title": "éªŒè¯ç é•¿åº¦", "default": 6}
   }
 }',
 '{"require_verification": true, "require_invite_code": true, "send_welcome_email": true}'
),
('password_reset', 'å¯†ç é‡ç½®æµç¨‹', 'auth',
 '[...]', '[...]',
 '{
   "type": "object",
   "properties": {
     "reset_method": {"type": "string", "enum": ["code", "link"], "title": "é‡ç½®æ–¹å¼", "default": "code"},
     "code_expire_minutes": {"type": "integer", "title": "éªŒè¯ç æœ‰æ•ˆæœŸ(åˆ†é’Ÿ)", "default": 15},
     "send_confirmation": {"type": "boolean", "title": "å‘é€ç¡®è®¤é‚®ä»¶", "default": true},
     "hide_user_not_found": {"type": "boolean", "title": "éšè—ç”¨æˆ·ä¸å­˜åœ¨é”™è¯¯", "default": true}
   }
 }',
 '{"reset_method": "code", "code_expire_minutes": 15, "send_confirmation": true}'
),
('user_login', 'ç”¨æˆ·ç™»å½•æµç¨‹', 'auth',
 '[...]', '[...]',
 '{
   "type": "object",
   "properties": {
     "max_failed_attempts": {"type": "integer", "title": "æœ€å¤§å¤±è´¥æ¬¡æ•°", "default": 5},
     "lockout_duration_minutes": {"type": "integer", "title": "é”å®šæ—¶é•¿(åˆ†é’Ÿ)", "default": 30},
     "notify_new_device": {"type": "boolean", "title": "æ–°è®¾å¤‡ç™»å½•é€šçŸ¥", "default": true},
     "require_2fa": {"type": "boolean", "title": "å¼ºåˆ¶2FA", "default": false}
   }
 }',
 '{"max_failed_attempts": 5, "lockout_duration_minutes": 30, "notify_new_device": true}'
);
```

### 6.2 å·¥ä½œæµæ‰§è¡Œè®°å½•

```sql
-- å·¥ä½œæµæ‰§è¡Œè®°å½•
CREATE TABLE workflow_executions (
    id SERIAL PRIMARY KEY,
    
    -- å…³è”
    workflow_type VARCHAR(20) NOT NULL,      -- 'system' / 'custom'
    workflow_id INTEGER NOT NULL,
    user_id INTEGER REFERENCES users(id),
    
    -- è§¦å‘ä¿¡æ¯
    trigger_type VARCHAR(50),
    trigger_data JSONB,
    
    -- æ‰§è¡ŒçŠ¶æ€
    status VARCHAR(20) NOT NULL,             -- 'running' / 'success' / 'failed' / 'cancelled'
    current_node VARCHAR(50),
    
    -- æ—¶é—´
    started_at TIMESTAMP DEFAULT NOW(),
    finished_at TIMESTAMP,
    
    -- ç»“æœ
    result JSONB,
    error_message TEXT
);

-- èŠ‚ç‚¹æ‰§è¡Œè®°å½•
CREATE TABLE workflow_node_executions (
    id SERIAL PRIMARY KEY,
    execution_id INTEGER REFERENCES workflow_executions(id) ON DELETE CASCADE,
    
    node_id VARCHAR(50) NOT NULL,
    node_type VARCHAR(50),
    
    -- æ‰§è¡Œä¿¡æ¯
    started_at TIMESTAMP,
    finished_at TIMESTAMP,
    status VARCHAR(20),                      -- 'pending' / 'running' / 'success' / 'failed' / 'skipped'
    
    -- è¾“å…¥è¾“å‡º
    input_data JSONB,
    output_data JSONB,
    error_message TEXT
);
```

---

## ä¸ƒã€åç«¯å®ç°æ¶æ„

### 7.1 å·¥ä½œæµæœåŠ¡

```python
# backend/core/workflow_service.py

from typing import Dict, Any, Optional
from sqlalchemy.orm import Session

class WorkflowService:
    """ç»Ÿä¸€å·¥ä½œæµæœåŠ¡"""
    
    def __init__(self, db: Session):
        self.db = db
        self.engine = WorkflowEngine(db)
    
    # ========== ç³»ç»Ÿå·¥ä½œæµ ==========
    
    async def execute_registration(
        self, 
        email: str, 
        password: str, 
        invite_code: Optional[str] = None
    ) -> Dict[str, Any]:
        """æ‰§è¡Œç”¨æˆ·æ³¨å†Œæµç¨‹"""
        
        # 1. åŠ è½½æ³¨å†Œå·¥ä½œæµé…ç½®
        workflow = self._get_system_workflow("user_registration")
        config = self._get_workflow_config("user_registration")
        
        # 2. å‡†å¤‡è§¦å‘æ•°æ®
        trigger_data = {
            "email": email,
            "password": password,
            "invite_code": invite_code,
            "config": config
        }
        
        # 3. æ‰§è¡Œå·¥ä½œæµ
        result = await self.engine.execute(
            workflow=workflow,
            trigger_data=trigger_data,
            context_type="registration"
        )
        
        return result
    
    async def execute_password_reset(
        self, 
        email: str
    ) -> Dict[str, Any]:
        """æ‰§è¡Œå¯†ç é‡ç½®æµç¨‹"""
        
        workflow = self._get_system_workflow("password_reset")
        config = self._get_workflow_config("password_reset")
        
        trigger_data = {
            "email": email,
            "config": config
        }
        
        return await self.engine.execute(
            workflow=workflow,
            trigger_data=trigger_data,
            context_type="password_reset"
        )
    
    async def execute_login(
        self,
        email: str,
        password: str,
        device_info: Dict
    ) -> Dict[str, Any]:
        """æ‰§è¡Œç™»å½•æµç¨‹"""
        
        workflow = self._get_system_workflow("user_login")
        config = self._get_workflow_config("user_login")
        
        trigger_data = {
            "email": email,
            "password": password,
            "device_info": device_info,
            "config": config
        }
        
        return await self.engine.execute(
            workflow=workflow,
            trigger_data=trigger_data,
            context_type="login"
        )
    
    # ========== é…ç½®ç®¡ç† ==========
    
    def get_workflow_config(self, workflow_code: str) -> Dict:
        """è·å–å·¥ä½œæµé…ç½®"""
        # ä¼˜å…ˆè¿”å›è‡ªå®šä¹‰é…ç½®ï¼Œå¦åˆ™è¿”å›é»˜è®¤é…ç½®
        custom = self.db.query(SystemWorkflowConfig).filter(
            SystemWorkflowConfig.workflow_id == self._get_workflow_id(workflow_code),
            SystemWorkflowConfig.is_active == True
        ).first()
        
        if custom:
            return custom.config
        
        workflow = self._get_system_workflow(workflow_code)
        return workflow.default_config
    
    def update_workflow_config(
        self, 
        workflow_code: str, 
        config: Dict,
        admin_user_id: int
    ):
        """æ›´æ–°å·¥ä½œæµé…ç½®"""
        workflow = self._get_system_workflow(workflow_code)
        
        # éªŒè¯é…ç½®
        self._validate_config(config, workflow.config_schema)
        
        # ä¿å­˜é…ç½®
        existing = self.db.query(SystemWorkflowConfig).filter(
            SystemWorkflowConfig.workflow_id == workflow.id
        ).first()
        
        if existing:
            existing.config = config
            existing.version += 1
            existing.updated_at = datetime.utcnow()
        else:
            new_config = SystemWorkflowConfig(
                workflow_id=workflow.id,
                config=config,
                created_by=admin_user_id
            )
            self.db.add(new_config)
        
        self.db.commit()
```

### 7.2 é›†æˆåˆ°ç°æœ‰ API

```python
# backend/api/auth.py

from core.workflow_service import WorkflowService

@router.post("/register")
async def register(
    data: RegisterRequest,
    db: Session = Depends(get_db)
):
    """ç”¨æˆ·æ³¨å†Œ - é€šè¿‡å·¥ä½œæµæ‰§è¡Œ"""
    
    workflow_service = WorkflowService(db)
    
    result = await workflow_service.execute_registration(
        email=data.email,
        password=data.password,
        invite_code=data.invite_code
    )
    
    if result["status"] == "success":
        return {
            "success": True,
            "message": result.get("message", "æ³¨å†ŒæˆåŠŸ"),
            "user": result.get("user"),
            "requires_verification": result.get("requires_verification", False)
        }
    else:
        raise HTTPException(
            status_code=400,
            detail=result.get("error", "æ³¨å†Œå¤±è´¥")
        )

@router.post("/forgot-password")
async def forgot_password(
    data: ForgotPasswordRequest,
    db: Session = Depends(get_db)
):
    """å¿˜è®°å¯†ç  - é€šè¿‡å·¥ä½œæµæ‰§è¡Œ"""
    
    workflow_service = WorkflowService(db)
    
    result = await workflow_service.execute_password_reset(
        email=data.email
    )
    
    # æ— è®ºé‚®ç®±æ˜¯å¦å­˜åœ¨ï¼Œéƒ½è¿”å›æˆåŠŸï¼ˆå®‰å…¨è€ƒè™‘ï¼‰
    return {
        "success": True,
        "message": "å¦‚æœè¯¥é‚®ç®±å·²æ³¨å†Œï¼Œæ‚¨å°†æ”¶åˆ°å¯†ç é‡ç½®é‚®ä»¶"
    }
```

---

## å…«ã€å‰ç«¯ç®¡ç†ç•Œé¢

### 8.1 ç³»ç»Ÿå·¥ä½œæµç®¡ç†é¡µé¢

```vue
<!-- frontend/app/components/settings/SystemWorkflows.vue -->
<template>
  <div class="system-workflows">
    <h2 class="text-xl font-semibold mb-6">ç³»ç»Ÿå·¥ä½œæµç®¡ç†</h2>
    
    <!-- å·¥ä½œæµåˆ—è¡¨ -->
    <div class="space-y-4">
      <div 
        v-for="workflow in workflows" 
        :key="workflow.code"
        class="bg-white dark:bg-gray-800 rounded-lg shadow p-6"
      >
        <div class="flex items-center justify-between">
          <div>
            <h3 class="text-lg font-medium">{{ workflow.name }}</h3>
            <p class="text-sm text-gray-500 mt-1">{{ workflow.description }}</p>
          </div>
          <div class="flex space-x-2">
            <button 
              @click="openConfig(workflow)"
              class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
            >
              é…ç½®
            </button>
            <button 
              @click="openEditor(workflow)"
              class="px-4 py-2 border rounded hover:bg-gray-50"
            >
              ç¼–è¾‘æµç¨‹
            </button>
          </div>
        </div>
        
        <!-- å¿«é€Ÿé…ç½®é¢„è§ˆ -->
        <div class="mt-4 grid grid-cols-3 gap-4 text-sm">
          <div v-for="(value, key) in workflow.current_config" :key="key">
            <span class="text-gray-500">{{ getConfigLabel(workflow, key) }}:</span>
            <span class="ml-2">{{ formatConfigValue(value) }}</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- é…ç½®å¼¹çª— -->
    <Modal v-if="showConfig" @close="showConfig = false">
      <template #header>
        <h3>{{ selectedWorkflow.name }} - é…ç½®</h3>
      </template>
      
      <template #body>
        <DynamicForm 
          :schema="selectedWorkflow.config_schema"
          v-model="configForm"
        />
      </template>
      
      <template #footer>
        <button @click="resetConfig" class="px-4 py-2 border rounded mr-2">
          æ¢å¤é»˜è®¤
        </button>
        <button @click="saveConfig" class="px-4 py-2 bg-blue-500 text-white rounded">
          ä¿å­˜é…ç½®
        </button>
      </template>
    </Modal>
  </div>
</template>
```

### 8.2 å·¥ä½œæµå¯è§†åŒ–ç¼–è¾‘å™¨

```vue
<!-- frontend/app/components/workflow/SystemWorkflowEditor.vue -->
<template>
  <div class="workflow-editor h-screen flex">
    <!-- å·¦ä¾§ï¼šåªè¯»èŠ‚ç‚¹é¢æ¿ -->
    <div class="w-64 bg-gray-100 p-4">
      <h3 class="font-medium mb-4">æµç¨‹èŠ‚ç‚¹</h3>
      <p class="text-sm text-gray-500 mb-4">
        ç³»ç»Ÿå·¥ä½œæµçš„æ ¸å¿ƒèŠ‚ç‚¹ä¸å¯åˆ é™¤ï¼Œä½†å¯ä»¥é…ç½®å‚æ•°
      </p>
      
      <div class="space-y-2">
        <div 
          v-for="node in additionalNodes" 
          :key="node.code"
          class="p-2 bg-white rounded shadow cursor-move"
          draggable="true"
          @dragstart="onDragStart($event, node)"
        >
          <span>{{ node.icon }} {{ node.name }}</span>
        </div>
      </div>
    </div>
    
    <!-- ä¸­é—´ï¼šç”»å¸ƒ -->
    <div class="flex-1">
      <VueFlow
        v-model="elements"
        :node-types="nodeTypes"
        @node-click="onNodeClick"
      >
        <Background />
        <Controls />
      </VueFlow>
    </div>
    
    <!-- å³ä¾§ï¼šèŠ‚ç‚¹é…ç½® -->
    <div v-if="selectedNode" class="w-80 bg-white border-l p-4">
      <div class="flex items-center justify-between mb-4">
        <h3 class="font-medium">{{ selectedNode.data.name }}</h3>
        <span 
          v-if="selectedNode.data.is_system" 
          class="text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded"
        >
          ç³»ç»ŸèŠ‚ç‚¹
        </span>
      </div>
      
      <!-- èŠ‚ç‚¹é…ç½®è¡¨å• -->
      <div v-if="selectedNode.data.can_configure">
        <DynamicForm 
          :schema="getNodeConfigSchema(selectedNode)"
          v-model="nodeConfigForm"
          @change="onNodeConfigChange"
        />
        
        <!-- æ¨¡æ¿é€‰æ‹©ï¼ˆå¦‚æœæ˜¯å‘é€é‚®ä»¶èŠ‚ç‚¹ï¼‰ -->
        <div v-if="isEmailNode(selectedNode)" class="mt-4">
          <label class="block text-sm font-medium mb-2">é‚®ä»¶æ¨¡æ¿</label>
          <select v-model="nodeConfigForm.template_code" class="w-full border rounded p-2">
            <option v-for="tpl in templates" :key="tpl.code" :value="tpl.code">
              {{ tpl.name }}
            </option>
          </select>
          <button 
            @click="editTemplate(nodeConfigForm.template_code)"
            class="mt-2 text-sm text-blue-500 hover:underline"
          >
            ç¼–è¾‘æ¨¡æ¿å†…å®¹ â†’
          </button>
        </div>
      </div>
      
      <p v-else class="text-sm text-gray-500">
        æ­¤èŠ‚ç‚¹ä¸ºç³»ç»Ÿæ ¸å¿ƒèŠ‚ç‚¹ï¼Œä¸å¯é…ç½®
      </p>
    </div>
  </div>
</template>
```

---

## ä¹ã€å®æ–½è·¯çº¿å›¾

### é˜¶æ®µä¸€ï¼šåŸºç¡€æ¶æ„ï¼ˆ1å‘¨ï¼‰

- [ ] åˆ›å»º `system_workflows` å’Œ `system_workflow_configs` è¡¨
- [ ] å®ç° `WorkflowService` æ ¸å¿ƒç±»
- [ ] å®šä¹‰æ³¨å†Œã€ç™»å½•ã€å¯†ç é‡ç½®çš„ç³»ç»Ÿå·¥ä½œæµ
- [ ] é›†æˆåˆ°ç°æœ‰ API

### é˜¶æ®µäºŒï¼šé…ç½®ç®¡ç†ï¼ˆ1å‘¨ï¼‰

- [ ] å®ç°ç³»ç»Ÿå·¥ä½œæµé…ç½® API
- [ ] åˆ›å»º `SystemWorkflows.vue` ç®¡ç†é¡µé¢
- [ ] å®ç° `DynamicForm` åŠ¨æ€è¡¨å•ç»„ä»¶
- [ ] é…ç½®ä¸é‚®ä»¶æ¨¡æ¿çš„å…³è”

### é˜¶æ®µä¸‰ï¼šå¯è§†åŒ–ç¼–è¾‘å™¨ï¼ˆ2å‘¨ï¼‰

- [ ] é›†æˆ Vue Flow
- [ ] å®ç°ç³»ç»Ÿå·¥ä½œæµå¯è§†åŒ–å±•ç¤º
- [ ] å®ç°èŠ‚ç‚¹é…ç½®ç¼–è¾‘
- [ ] å®ç°å¯é€‰èŠ‚ç‚¹çš„æ·»åŠ /åˆ é™¤

### é˜¶æ®µå››ï¼šè‡ªå®šä¹‰å·¥ä½œæµï¼ˆ2å‘¨ï¼‰

- [ ] å®ç°å®Œæ•´çš„è‡ªå®šä¹‰å·¥ä½œæµç¼–è¾‘å™¨
- [ ] ä¸ç°æœ‰è‡ªåŠ¨åŒ–è§„åˆ™ç³»ç»Ÿæ•´åˆ
- [ ] è¿ç§»å·¥å…·

---

## åã€æ€»ç»“

é€šè¿‡å€Ÿé‰´é£ä¹¦å®¡æ‰¹å·¥ä½œæµçš„è®¾è®¡ç†å¿µï¼Œæˆ‘ä»¬å°† TalentMail çš„æ‰€æœ‰ä¸šåŠ¡æµç¨‹ç»Ÿä¸€æŠ½è±¡ä¸ºå¯è§†åŒ–å·¥ä½œæµï¼š

### æ ¸å¿ƒä¼˜åŠ¿

1. **ç»Ÿä¸€ç®¡ç†**ï¼šæ‰€æœ‰ä¸šåŠ¡æµç¨‹åœ¨ä¸€ä¸ªåœ°æ–¹é…ç½®
2. **çµæ´»å®šåˆ¶**ï¼šç®¡ç†å‘˜å¯ä»¥è‡ªå®šä¹‰æ¯ä¸ªæ­¥éª¤çš„è¡Œä¸º
3. **æ¨¡æ¿å…³è”**ï¼šé‚®ä»¶æ¨¡æ¿ä¸å·¥ä½œæµæ·±åº¦é›†æˆ
4. **å¯è§†åŒ–ç¼–è¾‘**ï¼šæµç¨‹å›¾å¼çš„ç›´è§‚ç¼–è¾‘ä½“éªŒ
5. **å®‰å…¨å¯æ§**ï¼šæ ¸å¿ƒèŠ‚ç‚¹ä¸å¯åˆ é™¤ï¼Œä¿è¯ä¸šåŠ¡é€»è¾‘å®Œæ•´æ€§

### åº”ç”¨åœºæ™¯

| åœºæ™¯ | ä¼ ç»Ÿæ–¹å¼ | å·¥ä½œæµæ–¹å¼ |
|------|---------|-----------|
| ä¿®æ”¹æ³¨å†ŒéªŒè¯ç æ¨¡æ¿ | ä¿®æ”¹ä»£ç  | åœ¨å·¥ä½œæµä¸­é€‰æ‹©æ¨¡æ¿ |
| å…³é—­æ¬¢è¿é‚®ä»¶ | ä¿®æ”¹ä»£ç  | åœ¨å·¥ä½œæµé…ç½®ä¸­ç¦ç”¨ |
| æ·»åŠ ç®¡ç†å‘˜é€šçŸ¥ | ä¿®æ”¹ä»£ç  | æ‹–å…¥é€šçŸ¥èŠ‚ç‚¹ |
| ä¿®æ”¹éªŒè¯ç æœ‰æ•ˆæœŸ | ä¿®æ”¹é…ç½®æ–‡ä»¶ | åœ¨å·¥ä½œæµé…ç½®ä¸­è®¾ç½® |

è¿™ä¸ªè®¾è®¡è®© TalentMail çœŸæ­£æˆä¸ºä¸€ä¸ªå¯é…ç½®ã€å¯æ‰©å±•çš„ä¼ä¸šçº§é‚®ä»¶ç³»ç»Ÿï¼