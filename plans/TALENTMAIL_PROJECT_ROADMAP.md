# TalentMail é¡¹ç›®ç»¼åˆè§„åˆ’æ–‡æ¡£

> æœ€åæ›´æ–°: 2026-01-01
> ç‰ˆæœ¬: 3.0

---

## ä¸€ã€é¡¹ç›®æ¦‚è¿°

TalentMail æ˜¯ä¸€ä¸ªå…¨åŠŸèƒ½ä¼ä¸šé‚®ä»¶ç³»ç»Ÿï¼Œé‡‡ç”¨ç°ä»£åŒ–æŠ€æœ¯æ ˆæ„å»ºã€‚

### æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           TalentMail ç³»ç»Ÿæ¶æ„                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚     å‰ç«¯å±‚        â”‚    â”‚     åç«¯å±‚        â”‚    â”‚    æ•°æ®å±‚         â”‚   â”‚
â”‚  â”‚  Nuxt 3 + Vue 3  â”‚â—„â”€â”€â–ºâ”‚  FastAPI         â”‚â—„â”€â”€â–ºâ”‚  PostgreSQL      â”‚   â”‚
â”‚  â”‚  TailwindCSS     â”‚    â”‚  SQLAlchemy      â”‚    â”‚  Alembic         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  Pydantic        â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                   â”‚                                      â”‚
â”‚                                   â–¼                                      â”‚
â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚                          â”‚   é‚®ä»¶æœåŠ¡å±‚      â”‚                            â”‚
â”‚                          â”‚ docker-mailserver â”‚                            â”‚
â”‚                          â”‚ Postfix + Dovecot â”‚                            â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                   â”‚                                      â”‚
â”‚                                   â–¼                                      â”‚
â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚                          â”‚    ä»£ç†å±‚         â”‚                            â”‚
â”‚                          â”‚     Caddy        â”‚                            â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒé…ç½®

- **é…ç½®æ–‡ä»¶**: `config.json` (å•ä¸€äº‹å®æ¥æº)
- **ç¯å¢ƒå˜é‡**: `.env` (æ•æ„Ÿä¿¡æ¯)
- **Docker ç¼–æ’**: `docker-compose.dev.yml` / `docker-compose.yml`

---

## äºŒã€åŠŸèƒ½å®ŒæˆçŠ¶æ€

### âœ… å·²å®ŒæˆåŠŸèƒ½

#### é˜¶æ®µä¸€ï¼šåŸºç¡€æ¶æ„ (100%)
| åŠŸèƒ½ | çŠ¶æ€ | å…³é”®æ–‡ä»¶ |
|------|------|----------|
| é¡¹ç›®åˆå§‹åŒ– | âœ… | `docker-compose.dev.yml` |
| ç”¨æˆ·è®¤è¯ç³»ç»Ÿ (JWT) | âœ… | `backend/api/auth.py` |
| é‚®ä»¶æœåŠ¡å™¨é›†æˆ | âœ… | `config/mail/` |
| æ•°æ®åº“è¿ç§» | âœ… | `backend/alembic/` |

#### é˜¶æ®µäºŒï¼šæ ¸å¿ƒé‚®ä»¶åŠŸèƒ½ (100%)
| åŠŸèƒ½ | çŠ¶æ€ | å…³é”®æ–‡ä»¶ |
|------|------|----------|
| é‚®ä»¶å‘é€ (SMTP) | âœ… | `backend/core/mail.py` |
| é‚®ä»¶æ¥æ”¶ (LMTP) | âœ… | `backend/core/lmtp_server.py` |
| é‚®ä»¶åˆ—è¡¨/è¯¦æƒ… | âœ… | `backend/api/mail.py` |
| æ–‡ä»¶å¤¹ç®¡ç† | âœ… | `backend/api/folders.py` |
| é‚®ä»¶æ ‡è®°/æ˜Ÿæ ‡ | âœ… | `backend/crud/email.py` |
| å›å¤/è½¬å‘ | âœ… | `frontend/app/components/email/ComposeModal.vue` |
| é‚®ä»¶æœç´¢ | âœ… | `backend/api/mail.py` |
| è‰ç¨¿åŠŸèƒ½ | âœ… | `backend/crud/email.py` |

#### é˜¶æ®µä¸‰ï¼šé«˜çº§é‚®ä»¶åŠŸèƒ½ (100%)
| åŠŸèƒ½ | çŠ¶æ€ | å…³é”®æ–‡ä»¶ |
|------|------|----------|
| é‚®ä»¶è¿½è¸ª | âœ… | `backend/api/tracking.py` |
| æŠ•é€’çŠ¶æ€ | âœ… | `backend/db/models/email.py` |
| å®æ—¶é€šçŸ¥ (WebSocket) | âœ… | `backend/core/websocket.py` |
| é‚®ä»¶ç­¾åç®¡ç† | âœ… | `backend/api/signatures.py` |
| é™„ä»¶åŠŸèƒ½ | âœ… | `backend/api/attachments.py` |

#### é˜¶æ®µå››ï¼šä¼šå‘˜è®¢é˜…åˆ¶åº¦ (100%)
| åŠŸèƒ½ | çŠ¶æ€ | å…³é”®æ–‡ä»¶ |
|------|------|----------|
| å¥—é¤ç®¡ç† | âœ… | `backend/db/models/billing.py` |
| å…‘æ¢ç ç³»ç»Ÿ | âœ… | `backend/api/billing.py` |
| è®¢é˜…çŠ¶æ€æ˜¾ç¤º | âœ… | `frontend/app/components/settings/Billing.vue` |

#### é˜¶æ®µäº”ï¼šé‚®ä»¶æ¨¡æ¿ç³»ç»Ÿ (100%)
| åŠŸèƒ½ | çŠ¶æ€ | å…³é”®æ–‡ä»¶ |
|------|------|----------|
| æ¨¡æ¿ CRUD | âœ… | `backend/api/email_templates.py` |
| æ¨¡æ¿å¼•æ“ | âœ… | `backend/core/template_engine.py` |
| å˜é‡ç³»ç»Ÿ | âœ… | `backend/db/models/template.py` |
| æ¨¡æ¿é¢„è§ˆ | âœ… | `frontend/app/components/settings/EmailTemplates.vue` |
| æ‰‹åŠ¨å‘é€ | âœ… | `POST /api/email-templates/{id}/send` |

#### é˜¶æ®µå…­ï¼šè‡ªåŠ¨åŒ–è§„åˆ™å¼•æ“ (90%)
| åŠŸèƒ½ | çŠ¶æ€ | å…³é”®æ–‡ä»¶ |
|------|------|----------|
| è§„åˆ™ CRUD | âœ… | `backend/api/automation.py` |
| è§„åˆ™å¼•æ“æ ¸å¿ƒ | âœ… | `backend/core/rule_engine.py` |
| äº‹ä»¶å‘å¸ƒå™¨ | âœ… | `backend/core/event_publisher.py` |
| è§¦å‘å™¨ç±»å‹ | âœ… | æ”¯æŒ 5 ç§è§¦å‘å™¨ |
| æ¡ä»¶æ“ä½œç¬¦ | âœ… | æ”¯æŒ 13 ç§æ“ä½œç¬¦ |
| åŠ¨ä½œç±»å‹ | âœ… | æ”¯æŒ 14 ç§åŠ¨ä½œ |
| æ‰§è¡Œæ—¥å¿— | âœ… | `backend/db/models/automation.py` |
| å‰ç«¯è§„åˆ™åˆ—è¡¨ | âœ… | `frontend/app/components/settings/AutomationRules.vue` |
| å‰ç«¯è§„åˆ™ç¼–è¾‘å™¨ | âœ… | `frontend/app/components/settings/AutomationRuleEditor.vue` |
| **ä¸šåŠ¡ä»£ç äº‹ä»¶å‘å¸ƒ** | â³ | å¾…é›†æˆåˆ° `auth.py` ç­‰ |

---

### ğŸ”„ è¿›è¡Œä¸­åŠŸèƒ½

#### æ¨¡æ¿ä¸è‡ªåŠ¨åŒ–é›†æˆ
| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| æ¨¡æ¿è§¦å‘é…ç½® | âœ… | `TemplateTriggerConfig.vue` |
| è§¦å‘è§„åˆ™ API | âœ… | `GET/POST /api/email-templates/{code}/rules` |
| äº‹ä»¶å‘å¸ƒé›†æˆ | â³ | éœ€è¦åœ¨ä¸šåŠ¡ä»£ç ä¸­è°ƒç”¨ `EventPublisher.publish()` |

---

### ğŸ“‹ å¾…å®ŒæˆåŠŸèƒ½

#### é«˜ä¼˜å…ˆçº§ ğŸ”´

| åŠŸèƒ½ | æè¿° | å¤æ‚åº¦ | ç›¸å…³æ–‡ä»¶ |
|------|------|--------|----------|
| **äº‹ä»¶å‘å¸ƒé›†æˆ** | åœ¨æ³¨å†Œ/ç™»å½•ç­‰ä¸šåŠ¡ä»£ç ä¸­å‘å¸ƒäº‹ä»¶ | â­ | `backend/api/auth.py` |
| **å¤šè´¦å·ç®¡ç†** | é›†æˆå¤–éƒ¨ IMAP/SMTP è´¦å· | â­â­â­ | `backend/api/external_accounts.py` |
| **é‚®ä»¶åˆ«å** | åˆ›å»ºå’Œç®¡ç†é‚®ä»¶åˆ«å | â­â­ | `backend/api/aliases.py` |
| **å¯†ç é‡ç½®** | é€šè¿‡éªŒè¯ç é‡ç½®å¯†ç  | â­â­ | `backend/api/auth.py` |

#### ä¸­ä¼˜å…ˆçº§ ğŸŸ¡

| åŠŸèƒ½ | æè¿° | å¤æ‚åº¦ | ç›¸å…³æ–‡ä»¶ |
|------|------|--------|----------|
| **é»‘åå•ç®¡ç†** | æ·»åŠ /åˆ é™¤å±è”½çš„é‚®ç®±åœ°å€ | â­ | `backend/api/blocklist.py` |
| **è‡ªåŠ¨æ¸…ç†ç­–ç•¥** | ç»‘å®šåç«¯ API æŒä¹…åŒ–è®¾ç½® | â­ | `frontend/app/components/settings/Storage.vue` |
| **è”ç³»äººç®¡ç†** | é€šè®¯å½•ã€æ”¶ä»¶äººè‡ªåŠ¨è¡¥å…¨ | â­â­ | `backend/api/contacts.py` |
| **éšç§è®¾ç½®æŒä¹…åŒ–** | é˜»æ­¢å¤–éƒ¨å›¾ç‰‡ç­‰è®¾ç½® | â­ | `backend/api/users.py` |

#### ä½ä¼˜å…ˆçº§ ğŸŸ¢

| åŠŸèƒ½ | æè¿° | å¤æ‚åº¦ | ç›¸å…³æ–‡ä»¶ |
|------|------|--------|----------|
| **ä¸¤æ­¥éªŒè¯ (2FA)** | TOTP éªŒè¯å™¨æ”¯æŒ | â­â­ | `backend/api/totp.py` |
| **å®šæ—¶è§¦å‘è§„åˆ™** | æ·»åŠ  scheduled è§¦å‘å™¨ | â­â­ | `backend/core/rule_engine.py` |
| **æ—¥å†é›†æˆ** | é‚®ä»¶ä¸­çš„æ—¥æœŸè‡ªåŠ¨è¯†åˆ« | â­â­â­ | æ–°å»º |
| **ç”Ÿäº§éƒ¨ç½²** | TLS/SSLã€ç›‘æ§ã€å¤‡ä»½ | â­â­â­ | `docker-compose.yml` |

---

## ä¸‰ã€æ— ä»£ç è‡ªåŠ¨åŒ–å·¥ä½œæµè®¾è®¡

### 3.1 è®¾è®¡ç†å¿µ

åŸºäºç°æœ‰çš„ `AutomationRule` ç³»ç»Ÿï¼Œæ„å»ºå®Œå…¨æ— ä»£ç çš„è‡ªåŠ¨åŒ–å·¥ä½œæµé…ç½®èƒ½åŠ›ã€‚

### 3.2 ç”¨æˆ·åˆ†å±‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ç®¡ç†å‘˜ä¸“å±åŠŸèƒ½                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ ç³»ç»Ÿé‚®ä»¶æ¨¡æ¿ç®¡ç†                                              â”‚
â”‚  â€¢ æ¨¡æ¿è§¦å‘è§„åˆ™é…ç½®ï¼ˆç³»ç»Ÿäº‹ä»¶ â†’ å‘é€æ¨¡æ¿é‚®ä»¶ï¼‰                    â”‚
â”‚  â€¢ å…¨å±€å˜é‡ç®¡ç†                                                  â”‚
â”‚  â€¢ ç³»ç»Ÿçº§è‡ªåŠ¨åŒ–è§„åˆ™ï¼ˆå½±å“æ‰€æœ‰ç”¨æˆ·ï¼‰                              â”‚
â”‚  â€¢ äº‹ä»¶ç±»å‹ç®¡ç†ï¼ˆæœªæ¥ï¼‰                                          â”‚
â”‚  â€¢ åŠ¨ä½œç±»å‹ç®¡ç†ï¼ˆæœªæ¥ï¼‰                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ™®é€šç”¨æˆ·åŠŸèƒ½                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ ä¸ªäººé‚®ä»¶è¿‡æ»¤è§„åˆ™ï¼ˆæ”¶åˆ°é‚®ä»¶ â†’ åˆ†ç±»/æ ‡è®°/ç§»åŠ¨ï¼‰                 â”‚
â”‚  â€¢ ä¸ªäººè‡ªåŠ¨å›å¤è®¾ç½®                                              â”‚
â”‚  â€¢ ä¸ªäººé‚®ä»¶è½¬å‘è§„åˆ™                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 å®æ–½è·¯çº¿å›¾

#### çŸ­æœŸç›®æ ‡ï¼ˆ1-2 å‘¨ï¼‰

1. **å®Œæˆäº‹ä»¶å‘å¸ƒé›†æˆ**
   - åœ¨ `backend/api/auth.py` ä¸­é›†æˆäº‹ä»¶å‘å¸ƒ
   - æ”¯æŒçš„äº‹ä»¶ï¼š`user.registered`, `user.login`, `user.password_changed`
   
2. **ç«¯åˆ°ç«¯æµ‹è¯•**
   - åˆ›å»ºæµ‹è¯•è§„åˆ™
   - éªŒè¯è§¦å‘ â†’ æ¡ä»¶åŒ¹é… â†’ åŠ¨ä½œæ‰§è¡Œå®Œæ•´æµç¨‹

#### ä¸­æœŸç›®æ ‡ï¼ˆ2-4 å‘¨ï¼‰

1. **æ•°æ®åº“é©±åŠ¨çš„äº‹ä»¶ç±»å‹**
   - åˆ›å»º `event_types` è¡¨
   - å°† `EventPublisher` ä¸­çš„å¸¸é‡è¿ç§»åˆ°æ•°æ®åº“
   - ç®¡ç†å‘˜å¯åŠ¨æ€æ·»åŠ äº‹ä»¶ç±»å‹

2. **æ•°æ®åº“é©±åŠ¨çš„åŠ¨ä½œç±»å‹**
   - åˆ›å»º `action_types` è¡¨
   - åŠ¨æ€åŠ è½½åŠ¨ä½œå¤„ç†å™¨
   - ç®¡ç†å‘˜å¯é…ç½®åŠ¨ä½œå‚æ•°

#### é•¿æœŸç›®æ ‡ï¼ˆ1-2 æœˆï¼‰

1. **å¯è§†åŒ–å·¥ä½œæµç¼–è¾‘å™¨**
   - æ‹–æ‹½å¼æµç¨‹è®¾è®¡å™¨
   - æ¡ä»¶å’ŒåŠ¨ä½œçš„åŠ¨æ€è¡¨å•ç”Ÿæˆ
   - å®æ—¶é¢„è§ˆå’Œæµ‹è¯•

2. **é«˜çº§åŠŸèƒ½**
   - å·¥ä½œæµç‰ˆæœ¬æ§åˆ¶
   - é¢„è®¾æ¨¡æ¿åº“
   - å¯¼å…¥/å¯¼å‡ºåŠŸèƒ½

---

## å››ã€æ•°æ®åº“æ¶æ„æ‰©å±•è®¡åˆ’

### 4.1 ç°æœ‰æ ¸å¿ƒè¡¨

```sql
-- ç”¨æˆ·ç›¸å…³
users, login_sessions, subscription_history

-- é‚®ä»¶ç›¸å…³
emails, folders, attachments, tags, email_tags

-- æ¨¡æ¿ç›¸å…³
system_email_templates, template_metadata, global_variables

-- è‡ªåŠ¨åŒ–ç›¸å…³
automation_rules, automation_logs

-- å…¶ä»–
invite_codes, invite_code_usages, reserved_prefixes, verification_codes
drive_files, external_accounts
```

### 4.2 è®¡åˆ’æ–°å¢è¡¨

```sql
-- æ— ä»£ç å·¥ä½œæµæ‰©å±•ï¼ˆä¸­æœŸï¼‰
event_types          -- äº‹ä»¶ç±»å‹å®šä¹‰
action_types         -- åŠ¨ä½œç±»å‹å®šä¹‰
condition_operators  -- æ¡ä»¶æ“ä½œç¬¦å®šä¹‰

-- è”ç³»äººç®¡ç†ï¼ˆä¸­æœŸï¼‰
contacts             -- è”ç³»äºº
contact_groups       -- è”ç³»äººåˆ†ç»„

-- é‚®ä»¶åˆ«åï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰
email_aliases        -- é‚®ä»¶åˆ«å

-- é»‘åå•ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰
blocked_senders      -- å±è”½çš„å‘ä»¶äºº
```

---

## äº”ã€API è®¾è®¡è§„èŒƒ

### 5.1 ç°æœ‰ API ç«¯ç‚¹

```yaml
# è®¤è¯
POST   /api/auth/login
POST   /api/auth/register
POST   /api/auth/logout
POST   /api/auth/refresh

# ç”¨æˆ·
GET    /api/users/me
PATCH  /api/users/me
GET    /api/users                    # ç®¡ç†å‘˜

# é‚®ä»¶
GET    /api/emails
POST   /api/emails
GET    /api/emails/{id}
DELETE /api/emails/{id}
PATCH  /api/emails/{id}

# æ–‡ä»¶å¤¹
GET    /api/folders
POST   /api/folders
DELETE /api/folders/{id}

# æ¨¡æ¿
GET    /api/email-templates
POST   /api/email-templates
GET    /api/email-templates/{id}
PUT    /api/email-templates/{id}
DELETE /api/email-templates/{id}
POST   /api/email-templates/{id}/send
POST   /api/email-templates/{id}/preview
GET    /api/email-templates/events/available
GET    /api/email-templates/by-code/{code}/rules
POST   /api/email-templates/by-code/{code}/rules
DELETE /api/email-templates/rules/{id}

# è‡ªåŠ¨åŒ–
GET    /api/automation/rules
POST   /api/automation/rules
GET    /api/automation/rules/{id}
PUT    /api/automation/rules/{id}
DELETE /api/automation/rules/{id}
POST   /api/automation/rules/{id}/execute
GET    /api/automation/logs
```

### 5.2 è®¡åˆ’æ–°å¢ API

```yaml
# è”ç³»äººç®¡ç†
GET    /api/contacts
POST   /api/contacts
PUT    /api/contacts/{id}
DELETE /api/contacts/{id}
GET    /api/contacts/search?q=xxx

# é‚®ä»¶åˆ«å
GET    /api/aliases
POST   /api/aliases
DELETE /api/aliases/{id}

# é»‘åå•
GET    /api/blocklist
POST   /api/blocklist
DELETE /api/blocklist/{id}

# æ— ä»£ç å·¥ä½œæµï¼ˆä¸­æœŸï¼‰
GET    /api/workflows/event-types
POST   /api/workflows/event-types
GET    /api/workflows/action-types
POST   /api/workflows/action-types
```

---

## å…­ã€å‰ç«¯ç»„ä»¶æ¶æ„

### 6.1 é¡µé¢ç»“æ„

```
frontend/app/pages/
â”œâ”€â”€ index.vue              # é‚®ä»¶ä¸»é¡µ
â”œâ”€â”€ login.vue              # ç™»å½•
â”œâ”€â”€ register.vue           # æ³¨å†Œ
â”œâ”€â”€ forgot-password.vue    # å¿˜è®°å¯†ç 
â”œâ”€â”€ settings.vue           # è®¾ç½®é¡µé¢
â”œâ”€â”€ contacts.vue           # è”ç³»äººï¼ˆå¾…å®Œå–„ï¼‰
â”œâ”€â”€ drive.vue              # äº‘ç›˜
â”œâ”€â”€ pool.vue               # è´¦å·æ± 
â””â”€â”€ attachments.vue        # é™„ä»¶ç®¡ç†
```

### 6.2 è®¾ç½®é¡µé¢ç»„ä»¶

```
frontend/app/components/settings/
â”œâ”€â”€ Profile.vue            # ä¸ªäººèµ„æ–™
â”œâ”€â”€ Security.vue           # å®‰å…¨è®¾ç½®
â”œâ”€â”€ Mail.vue               # é‚®ä»¶è®¾ç½®
â”œâ”€â”€ Notifications.vue      # é€šçŸ¥è®¾ç½®
â”œâ”€â”€ Privacy.vue            # éšç§è®¾ç½®
â”œâ”€â”€ Storage.vue            # å­˜å‚¨ç®¡ç†
â”œâ”€â”€ Accounts.vue           # è´¦å·ç®¡ç†ï¼ˆå¾…å®Œå–„ï¼‰
â”œâ”€â”€ Theme.vue              # ä¸»é¢˜è®¾ç½®
â”œâ”€â”€ About.vue              # å…³äº
â”œâ”€â”€ EmailTemplates.vue     # é‚®ä»¶æ¨¡æ¿ï¼ˆç®¡ç†å‘˜ï¼‰
â”œâ”€â”€ AutomationRules.vue    # è‡ªåŠ¨åŒ–è§„åˆ™ï¼ˆç®¡ç†å‘˜ï¼‰
â”œâ”€â”€ AutomationRuleEditor.vue  # è§„åˆ™ç¼–è¾‘å™¨
â”œâ”€â”€ TemplateTriggerConfig.vue # æ¨¡æ¿è§¦å‘é…ç½®
â”œâ”€â”€ UserManagement.vue     # ç”¨æˆ·ç®¡ç†ï¼ˆç®¡ç†å‘˜ï¼‰
â”œâ”€â”€ InviteCodes.vue        # é‚€è¯·ç ï¼ˆç®¡ç†å‘˜ï¼‰
â”œâ”€â”€ ReservedPrefixes.vue   # ä¿ç•™å‰ç¼€ï¼ˆç®¡ç†å‘˜ï¼‰
â””â”€â”€ Billing.vue            # è®¢é˜…ç®¡ç†ï¼ˆç®¡ç†å‘˜ï¼‰
```

### 6.3 å¾…å¼€å‘ç»„ä»¶

```
# é«˜ä¼˜å…ˆçº§
frontend/app/components/settings/Aliases.vue      # é‚®ä»¶åˆ«åç®¡ç†
frontend/app/components/settings/Blocklist.vue    # é»‘åå•ç®¡ç†

# ä¸­ä¼˜å…ˆçº§
frontend/app/components/contacts/ContactList.vue  # è”ç³»äººåˆ—è¡¨
frontend/app/components/contacts/ContactForm.vue  # è”ç³»äººè¡¨å•

# ä½ä¼˜å…ˆçº§
frontend/app/components/workflow/WorkflowEditor.vue  # å¯è§†åŒ–å·¥ä½œæµç¼–è¾‘å™¨
```

---

## ä¸ƒã€ä¸‹ä¸€æ­¥è¡ŒåŠ¨è®¡åˆ’

### ç«‹å³æ‰§è¡Œï¼ˆæœ¬å‘¨ï¼‰

1. **å®Œæˆäº‹ä»¶å‘å¸ƒé›†æˆ**
   ```python
   # backend/api/auth.py - æ³¨å†ŒæˆåŠŸå
   await EventPublisher.publish(
       event_type=EventType.USER_REGISTERED,
       data={...},
       user=user,
       db=db
   )
   ```

2. **ç«¯åˆ°ç«¯æµ‹è¯•è‡ªåŠ¨åŒ–è§„åˆ™**
   - åˆ›å»ºæµ‹è¯•è§„åˆ™ï¼šç”¨æˆ·æ³¨å†Œ â†’ å‘é€æ¬¢è¿é‚®ä»¶
   - éªŒè¯å®Œæ•´æµç¨‹

3. **æ›´æ–°å¼€å‘æ–‡æ¡£**
   - æ•´åˆæ‰€æœ‰è®¾è®¡æ–‡æ¡£
   - æ›´æ–° README.md

### çŸ­æœŸè®¡åˆ’ï¼ˆ1-2 å‘¨ï¼‰

1. **å®ç°å¯†ç é‡ç½®åŠŸèƒ½**
   - å¤ç”¨éªŒè¯ç ç³»ç»Ÿ
   - æ·»åŠ  `forgot-password` é¡µé¢é€»è¾‘

2. **å®Œå–„è”ç³»äººç®¡ç†**
   - å®ç°è”ç³»äºº CRUD API
   - å®Œå–„å‰ç«¯é¡µé¢
   - æ·»åŠ æ”¶ä»¶äººè‡ªåŠ¨è¡¥å…¨

3. **å®ç°é‚®ä»¶åˆ«å**
   - åˆ›å»ºæ•°æ®åº“è¡¨
   - å®ç° API
   - å‰ç«¯ç®¡ç†ç•Œé¢

### ä¸­æœŸè®¡åˆ’ï¼ˆ2-4 å‘¨ï¼‰

1. **é»‘åå•ç®¡ç†**
2. **éšç§è®¾ç½®æŒä¹…åŒ–**
3. **è‡ªåŠ¨æ¸…ç†ç­–ç•¥**
4. **æ•°æ®åº“é©±åŠ¨çš„äº‹ä»¶/åŠ¨ä½œç±»å‹**

### é•¿æœŸè®¡åˆ’ï¼ˆ1-2 æœˆï¼‰

1. **å¯è§†åŒ–å·¥ä½œæµç¼–è¾‘å™¨**
2. **å¤šè´¦å·ç®¡ç†**
3. **ä¸¤æ­¥éªŒè¯ (2FA)**
4. **ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²**

---

## å…«ã€è®¾è®¡æ–‡æ¡£ç´¢å¼•

| æ–‡æ¡£ | æè¿° | çŠ¶æ€ |
|------|------|------|
| `TALENTMAIL_PROJECT_ROADMAP.md` | é¡¹ç›®ç»¼åˆè§„åˆ’ï¼ˆæœ¬æ–‡æ¡£ï¼‰ | å½“å‰ |
| `NO_CODE_AUTOMATION_WORKFLOW_DESIGN.md` | æ— ä»£ç å·¥ä½œæµè®¾è®¡ | å®Œæˆ |
| `TEMPLATE_AUTOMATION_INTEGRATION_DESIGN.md` | æ¨¡æ¿ä¸è‡ªåŠ¨åŒ–é›†æˆè®¾è®¡ | å®Œæˆ |
| `EMAIL_SYSTEM_ARCHITECTURE.md` | é‚®ä»¶ç³»ç»Ÿæ¶æ„ | å®Œæˆ |
| `TEMPLATE_TRIGGER_AND_AUTOMATION_DESIGN.md` | æ¨¡æ¿è§¦å‘è®¾è®¡ | å®Œæˆ |
| `VISUAL_WORKFLOW_ENGINE_DESIGN.md` | å¯è§†åŒ–å·¥ä½œæµå¼•æ“è®¾è®¡ | è‰æ¡ˆ |
| `COMPLETE_AUTOMATION_SYSTEM_DESIGN.md` | å®Œæ•´è‡ªåŠ¨åŒ–ç³»ç»Ÿè®¾è®¡ | å®Œæˆ |

---

## ä¹ã€æŠ€æœ¯å€ºåŠ¡æ¸…å•

| é—®é¢˜ | ä¼˜å…ˆçº§ | è§£å†³æ–¹æ¡ˆ |
|------|--------|----------|
| äº‹ä»¶å‘å¸ƒæœªé›†æˆåˆ°ä¸šåŠ¡ä»£ç  | é«˜ | åœ¨ auth.py ç­‰æ–‡ä»¶ä¸­æ·»åŠ  EventPublisher.publish() |
| éƒ¨åˆ†å‰ç«¯ç»„ä»¶ä½¿ç”¨é™æ€æ•°æ® | ä¸­ | ç»‘å®šåç«¯ API |
| ç¼ºå°‘å•å…ƒæµ‹è¯• | ä¸­ | æ·»åŠ  pytest æµ‹è¯•ç”¨ä¾‹ |
| ç¼ºå°‘ API æ–‡æ¡£ | ä½ | ä½¿ç”¨ FastAPI è‡ªåŠ¨ç”Ÿæˆ |
| å‰ç«¯ç¼ºå°‘é”™è¯¯è¾¹ç•Œ | ä½ | æ·»åŠ å…¨å±€é”™è¯¯å¤„ç† |

---

## åã€æ€»ç»“

TalentMail é¡¹ç›®å·²å®Œæˆçº¦ **85%** çš„æ ¸å¿ƒåŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š
- âœ… å®Œæ•´çš„é‚®ä»¶æ”¶å‘ç³»ç»Ÿ
- âœ… ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†
- âœ… é‚®ä»¶æ¨¡æ¿ç³»ç»Ÿ
- âœ… è‡ªåŠ¨åŒ–è§„åˆ™å¼•æ“ï¼ˆæ ¸å¿ƒï¼‰
- âœ… ä¼šå‘˜è®¢é˜…åˆ¶åº¦

ä¸‹ä¸€é˜¶æ®µé‡ç‚¹ï¼š
1. **å®Œæˆäº‹ä»¶å‘å¸ƒé›†æˆ**ï¼Œè®©è‡ªåŠ¨åŒ–è§„åˆ™çœŸæ­£ç”Ÿæ•ˆ
2. **å®Œå–„ç”¨æˆ·ä½“éªŒ**ï¼ŒåŒ…æ‹¬è”ç³»äººã€åˆ«åã€é»‘åå•ç­‰åŠŸèƒ½
3. **æ„å»ºæ— ä»£ç å·¥ä½œæµ**ï¼Œè®©ç®¡ç†å‘˜å¯ä»¥å®Œå…¨é€šè¿‡ç•Œé¢é…ç½®è‡ªåŠ¨åŒ–é€»è¾‘

é¡¹ç›®é‡‡ç”¨æ¸è¿›å¼å¼€å‘ç­–ç•¥ï¼Œç¡®ä¿æ¯ä¸ªåŠŸèƒ½æ¨¡å—éƒ½ç»è¿‡å……åˆ†æµ‹è¯•åå†è¿›å…¥ä¸‹ä¸€é˜¶æ®µã€‚